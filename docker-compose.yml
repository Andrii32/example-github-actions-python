version: '2.1'

services:

  app:
    build: .
    working_dir: '/usr/project/'
    command: bash -c "piprot requirements.txt --delay 365 && python -m pytest --cov=src --cov-fail-under 80 && mypy ./src && python3 ./src/run.py"
    volumes:
      - ./src:/usr/project/src
